"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getErrorMessage = getErrorMessage;
const Errors_js_1 = require("../../../bridge/types/Errors.js");
function getErrorMessage(err) {
    if (err instanceof Errors_js_1.ApiError) {
        if (err.code === "INTERNAL_SERVER_ERROR") {
            return {
                code: "INTERNAL_SERVER_ERROR",
                message: "An unknown error occurred. Please try again.",
                title: "Failed to Find Quote",
            };
        }
        return {
            code: err.code,
            message: getErrorMessageFromBridgeApiError(err),
            title: "Failed to Find Quote",
        };
    }
    if (err instanceof Error) {
        return {
            code: "UNABLE_TO_GET_PRICE_QUOTE",
            message: err.message ||
                "We couldn't get a quote for this token pair. Select another token or pay with card.",
            title: "Failed to Find Quote",
        };
    }
    return {
        code: "UNABLE_TO_GET_PRICE_QUOTE",
        message: "We couldn't get a quote for this token pair. Select another token or pay with card.",
        title: "Failed to Find Quote",
    };
}
function getErrorMessageFromBridgeApiError(err) {
    let msg = err.message;
    if (msg.includes("Details")) {
        msg = msg.substring(0, msg.indexOf("Details"));
    }
    if (msg.includes("{")) {
        msg = msg.substring(0, msg.indexOf("{"));
    }
    return msg;
}
//# sourceMappingURL=errors.js.map